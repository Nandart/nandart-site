<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Submeter Obra - NANdART</title>
  <link rel="stylesheet" href="style.css">
</head>
<body style="text-align: center; padding: 40px; background-color: #121212; color: #FFD700; font-family: Georgia, serif;">

  <h1>Submeter Nova Obra</h1>

  <form id="submissaoObra" style="max-width: 400px; margin: auto;">
    <input type="text" id="titulo" placeholder="Título da Obra" required style="margin: 8px; width: 100%; padding: 8px;"><br>
    <input type="text" id="artista" placeholder="Nome do Artista" required style="margin: 8px; width: 100%; padding: 8px;"><br>
    <input type="text" id="imagem" placeholder="URL da Imagem" required style="margin: 8px; width: 100%; padding: 8px;"><br>
    <textarea id="descricao" placeholder="Descrição da Obra" style="margin: 8px; width: 100%; padding: 8px;"></textarea><br>
    <input type="text" id="nftContractAddress" placeholder="Endereço do NFT (opcional)" style="margin: 8px; width: 100%; padding: 8px;"><br>
    <label>
      <input type="checkbox" id="isPremium" style="margin: 8px;"> Destaque Premium
    </label><br><br>
    <button type="submit" style="background-color: #FFD700; color: #000; padding: 10px 20px; border: none; border-radius: 5px;">Submeter Obra</button>
  </form>

  <p id="mensagem" style="margin-top: 20px;"></p>

  <script>
    document.getElementById('submissaoObra').addEventListener('submit', function(e) {
      e.preventDefault();

      const obra = {
        titulo: document.getElementById('titulo').value,
        artista: document.getElementById('artista').value,
        imagem: document.getElementById('imagem').value,
        descricao: document.getElementById('descricao').value,
        nftContractAddress: document.getElementById('nftContractAddress').value || null,
        isPremium: document.getElementById('isPremium').checked,
        isNandartObra: false,
        dataInicioPremium: document.getElementById('isPremium').checked ? new Date().toISOString().split('T')[0] : null
      };

      let obrasSubmetidas = JSON.parse(localStorage.getItem('obrasSubmetidas')) || [];
      obrasSubmetidas.push(obra);
      localStorage.setItem('obrasSubmetidas', JSON.stringify(obrasSubmetidas));

      document.getElementById('mensagem').textContent = "✅ Obra submetida com sucesso!";

      this.reset();
    });
  </script>

  <br>
  <a href="index.html" style="color: #FFD700; text-decoration: underline;">Voltar à Página Inicial</a>

</body>
</html>
